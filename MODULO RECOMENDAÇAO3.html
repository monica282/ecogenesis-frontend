<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Painel de Recomenda√ß√µes - Ecogenesis Lab</title>
  <style>
    /* Estilos Globais e Reset */
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      padding: 0;
      color: #333;
      display: flex; /* Para layout de sidebar */
      height: 100vh; /* Ocupa a altura total da viewport */
      background-color: #f0f2f5; /* Fundo suave */
    }

    /* Navega√ß√£o Lateral (Sidebar) */
    nav {
      width: 260px; /* Largura da sidebar */
      background-color: #2e7d32; /* Verde escuro do Ecogenesis */
      color: white;
      padding: 20px 0; /* Padding vertical */
      box-shadow: 2px 0 5px rgba(0,0,0,0.1);
      display: flex;
      flex-direction: column;
      align-items: center;
      flex-shrink: 0; /* N√£o permite que a sidebar encolha */
    }
    nav .logo-sidebar {
        height: 60px;
        margin-bottom: 25px;
    }
    nav h2 {
      font-size: 1.6em;
      margin-bottom: 30px;
      color: #e6f4ea; /* Cor mais clara para o t√≠tulo */
      text-align: center;
      padding: 0 20px;
    }
    nav button {
      background: none;
      border: none;
      color: white;
      padding: 15px 20px; /* Mais padding para bot√µes */
      text-align: left;
      width: 100%;
      cursor: pointer;
      font-size: 1.1em;
      transition: background-color 0.3s ease;
      display: flex;
      align-items: center;
      gap: 10px; /* Espa√ßo entre √≠cone e texto */
    }
    nav button:hover, nav button.active {
      background-color: #388e3c; /* Um verde um pouco mais claro no hover/ativo */
      border-left: 5px solid #84c29c; /* Indicador visual de ativo */
      padding-left: 15px; /* Ajusta padding por causa da borda */
    }
    nav button.active {
        font-weight: bold;
    }

    /* Conte√∫do Principal */
    main {
      flex-grow: 1; /* Ocupa o restante do espa√ßo */
      padding: 25px;
      overflow-y: auto; /* Permite scroll se o conte√∫do for grande */
    }
    .section-content {
      display: none; /* Esconde todas as se√ß√µes por padr√£o */
      background-color: #ffffff;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      margin-bottom: 25px; /* Espa√ßo entre as se√ß√µes caso mais de uma seja ativa */
    }
    .section-content.active {
      display: block; /* Mostra a se√ß√£o ativa */
    }

    /* T√≠tulos dentro das se√ß√µes */
    .section-content h2 {
      color: #2e7031;
      font-size: 1.8em;
      margin-bottom: 25px;
      padding-bottom: 10px;
      border-bottom: 2px solid #e6f4ea;
    }
    .section-content h3 {
        color: #4CAF50; /* Um verde mais claro para subt√≠tulos */
        font-size: 1.4em;
        margin-top: 30px;
        margin-bottom: 15px;
    }

    /* Formul√°rios e Inputs */
    label {
      display: block;
      margin: 15px 0 8px;
      font-weight: bold;
      color: #444;
    }
    input[type="number"],
    select,
    textarea {
      width: calc(100% - 24px); /* Ajusta para padding e borda */
      padding: 12px;
      margin-bottom: 15px;
      border: 1px solid #ccc;
      border-radius: 6px;
      font-size: 1em;
      box-sizing: border-box;
    }
    textarea {
      min-height: 80px;
      resize: vertical;
    }

    /* Bot√µes */
    button {
      padding: 12px 25px;
      background-color: #2e7031;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 1.05em;
      transition: background-color 0.3s ease, transform 0.2s ease;
      margin-top: 10px;
      margin-right: 10px;
    }
    button:hover {
      background-color: #245726;
      transform: translateY(-2px);
    }
    button.delete-btn {
      background-color: #d9534f;
    }
    button.delete-btn:hover {
      background-color: #c9302c;
    }

    /* Tags de Sele√ß√£o */
    .tag-container {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-bottom: 20px;
    }
    .tag {
      background-color: #e6f4ea;
      padding: 8px 15px;
      border-radius: 20px;
      cursor: pointer;
      border: 1px solid #c9e7d4;
      transition: background-color 0.2s ease, border-color 0.2s ease;
    }
    .tag:hover {
      background-color: #d1ecdb;
    }
    .tag.selected {
      background-color: #84c29c;
      color: white;
      border-color: #6aab85;
    }

    /* Sa√≠das de Recomenda√ß√£o */
    .recommendation-output {
      background-color: #e6f4ea;
      padding: 15px;
      border-radius: 8px;
      margin-top: 20px;
      border: 1px dashed #a8d5b8;
      font-size: 1.1em;
      color: #2e7031;
      word-wrap: break-word; /* Garante que o texto n√£o vaze */
    }
    .recommendation-item {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 10px;
      padding: 10px;
      border: 1px solid #eee;
      border-radius: 5px;
      background-color: #fdfdfd;
    }
    .recommendation-item textarea {
      flex: 1;
      margin: 0;
      height: auto;
    }
    .recommendation-item .btn-group {
        display: flex;
        flex-direction: column;
        gap: 5px;
    }

    ul#visualizacao-recomendacoes {
        list-style: none;
        padding: 0;
    }
    ul#visualizacao-recomendacoes li {
        background-color: #eaf7ed;
        padding: 12px 18px; /* Mais padding para visualiza√ß√£o */
        margin-bottom: 10px;
        border-radius: 5px;
        border-left: 5px solid #2e7031;
        font-size: 1em;
        word-wrap: break-word;
    }
  </style>
</head>
<body>

<nav>
  <img src="logomarca_ecogenesis.png" alt="Ecogenesis Lab" class="logo-sidebar" />
  <h2>Painel de Recomenda√ß√µes</h2>
  <button id="btn-simuladores" class="active" onclick="showSection('simuladores', this)">‚öôÔ∏è Simuladores de Modelos</button>
  <button id="btn-gerenciamento" onclick="showSection('gerenciamento', this)">üìù Gerenciamento de Recomenda√ß√µes</button>
  <button id="btn-visualizacao" onclick="showSection('visualizacao', this)">üëÅÔ∏è Visualiza√ß√£o de Recomenda√ß√µes</button>
</nav>

<main>
  <div id="simuladores" class="section-content active">
    <h2>Simuladores de Modelos</h2>

    <h3>Simulador A - Classifica√ß√£o de Manejo</h3>
    <label for="n">Nitrog√™nio Total (mg/kg):</label>
    <input type="number" id="n" placeholder="Ex: 7.5" step="0.1"/>

    <label for="cn">Rela√ß√£o C/N:</label>
    <input type="number" id="cn" placeholder="Ex: 24" step="0.1"/>

    <button onclick="simularModeloA()">Gerar Recomenda√ß√£o (Modelo A)</button>
    <div id="saidaA" class="recommendation-output"></div>

    <h3>Simulador B - Efici√™ncia de Bioinsumo</h3>
    <label for="dose">Dose do Bioinsumo (L/ha):</label>
    <input type="number" id="dose" placeholder="Ex: 2.5" step="0.1">
    <label for="cultura">Cultura:</label>
    <select id="cultura">
        <option value="milho">Milho</option>
        <option value="feijao">Feij√£o</option>
        <option value="tomate">Tomate</option>
    </select>
    <label for="fertilidade">N√≠vel de Fertilidade:</label>
    <select id="fertilidade">
        <option value="baixa">Baixa</option>
        <option value="media">M√©dia</option>
        <option value="alta">Alta</option>
    </select>
    <button onclick="simularModeloB()">Gerar Recomenda√ß√£o (Modelo B)</button>
    <div id="saidaB" class="recommendation-output"></div>

    <h3>Simulador de Manejo por Par√¢metros e Condi√ß√µes</h3>
    <label>Par√¢metros Agron√¥micos Selecionados:</label>
    <div class="tag-container" id="parametros">
        <div class="tag" onclick="toggleTag(this)">Nitrog√™nio Total</div>
        <div class="tag" onclick="toggleTag(this)">C/N</div>
        <div class="tag" onclick="toggleTag(this)">pH</div>
        <div class="tag" onclick="toggleTag(this)">Mat√©ria Org√¢nica</div>
    </div>

    <label>Condi√ß√µes Relevantes:</label>
    <div class="tag-container" id="condicoes">
        <div class="tag" onclick="toggleTag(this)">Hist√≥rico de compacta√ß√£o</div>
        <div class="tag" onclick="toggleTag(this)">Alta umidade prevista</div>
        <div class="tag" onclick="toggleTag(this)">Disponibilidade de sementes</div>
    </div>

    <button onclick="sugerirManejoTags()">Sugerir Manejo com base nas Tags</button>
    <div id="saidaTags" class="recommendation-output"></div>

    <h3>Simuladores de Modelos Din√¢micos</h3>
    <div id="simuladores-dinamicos">
        </div>
  </div>

  <div id="gerenciamento" class="section-content">
    <h2>Gerenciamento de Recomenda√ß√µes Oficiais</h2>

    <label for="propriedade-select-gerenciamento">Selecionar Propriedade:</label>
    <select id="propriedade-select-gerenciamento">
      <option value="sito1">S√≠tio da Boa Esperan√ßa</option>
      <option value="sito2">Ch√°cara S√£o Jos√©</option>
    </select>

    <h3>Recomenda√ß√µes Salvas para a Propriedade Selecionada</h3>
    <div id="lista-recomendacoes">
        </div>
    <button onclick="adicionarNovaRecomendacao()">Adicionar Nova Recomenda√ß√£o Manual</button>
  </div>

  <div id="visualizacao" class="section-content">
    <h2>Visualiza√ß√£o de Recomenda√ß√µes (T√©cnico/Produtor)</h2>

    <label for="propriedade-view">Visualizar Recomenda√ß√µes da Propriedade:</label>
    <select id="propriedade-view">
      <option value="sito1">S√≠tio da Boa Esperan√ßa</option>
      <option value="sito2">Ch√°cara S√£o Jos√©</option>
    </select>
    <ul id="visualizacao-recomendacoes">
        </ul>
  </div>
</main>

<script>
    // 1. Dados e Estruturas Iniciais (Simulando um Banco de Dados)
    const modelosCadastrados = [
      {
        id: 'modeloC', // ID √∫nico para o modelo
        nome: 'Modelo C - Risco de Lixivia√ß√£o',
        parametros: [
          { id: 'chuva', label: 'Volume de Chuva (mm)', type: 'number', placeholder: 'Ex: 150' },
          { id: 'inclinacao', label: 'Inclina√ß√£o do Terreno (%)', type: 'number', placeholder: 'Ex: 10' },
          { id: 'textura', label: 'Textura do Solo', type: 'select', options: ['Arenoso', 'Siltoso', 'Argiloso'] }
        ],
        // Fun√ß√£o para simular o resultado do Modelo C
        simular: (valores) => {
          const chuva = parseFloat(valores.chuva);
          const inclinacao = parseFloat(valores.inclinacao);
          const textura = valores.textura;
          let risco = 0;

          if (isNaN(chuva) || isNaN(inclinacao)) {
              return 'Por favor, preencha todos os campos num√©ricos.';
          }

          if (textura === 'Arenoso') {
            risco += 0.5;
          } else if (textura === 'Siltoso') {
            risco += 0.2;
          }

          risco += (chuva / 200) * 0.3; // Quanto mais chuva, maior o risco
          risco += (inclinacao / 30) * 0.2; // Quanto maior a inclina√ß√£o, maior o risco

          if (risco < 0.3) return 'Risco de Lixivia√ß√£o: Baixo';
          if (risco < 0.6) return 'Risco de Lixivia√ß√£o: M√©dio';
          return 'Risco de Lixivia√ß√£o: Alto';
        }
      },
      {
        id: 'modeloD',
        nome: 'Modelo D - Potencial de Sequestro de Carbono',
        parametros: [
          { id: 'biomassa', label: 'Biomassa (kg/m¬≤)', type: 'number', placeholder: 'Ex: 2.5' },
          { id: 'idadePlantio', label: 'Idade do Plantio (anos)', type: 'number', placeholder: 'Ex: 5' }
        ],
        simular: (valores) => {
          const biomassa = parseFloat(valores.biomassa);
          const idade = parseFloat(valores.idadePlantio);

          if (isNaN(biomassa) || isNaN(idade)) {
              return 'Por favor, preencha todos os campos num√©ricos.';
          }

          const sequestro = biomassa * idade * 0.05; // Exemplo de c√°lculo

          return `Sequestro estimado: ${sequestro.toFixed(2)} tC/ha/ano`;
        }
      }
    ];

    // Estrutura para armazenar as recomenda√ß√µes por propriedade
    // Simulando um banco de dados: { propriedadeId: [{ id: uniqueId, texto: "..." }, ...] }
    // As recomenda√ß√µes salvas aqui persistem enquanto a p√°gina n√£o √© recarregada.
    const recomendacoesPorPropriedade = {
      sito1: [
        { id: 'rec1_sito1', texto: 'Recomenda√ß√£o inicial para S√≠tio da Boa Esperan√ßa: Cons√≥rcio com Cobertura Morta.' },
        { id: 'rec2_sito1', texto: 'Ajuste de pH e mat√©ria org√¢nica para melhor desenvolvimento.' }
      ],
      sito2: [
        { id: 'rec1_sito2', texto: 'Recomenda√ß√£o inicial para Ch√°cara S√£o Jos√©: Plantio Direto e rota√ß√£o de culturas.' }
      ]
    };

    // 2. Fun√ß√µes de Navega√ß√£o entre Se√ß√µes
    function showSection(id, clickedButton) {
      // Remove a classe 'active' de todas as se√ß√µes e bot√µes
      document.querySelectorAll('.section-content').forEach(s => s.classList.remove('active'));
      document.querySelectorAll('nav button').forEach(btn => btn.classList.remove('active'));

      // Adiciona a classe 'active' √† se√ß√£o e ao bot√£o clicado
      document.getElementById(id).classList.add('active');
      clickedButton.classList.add('active');

      // Atualiza as listas se as se√ß√µes de gerenciamento/visualiza√ß√£o forem ativadas
      if (id === 'gerenciamento') {
          atualizarLista();
      } else if (id === 'visualizacao') {
          atualizarVisualizacao();
      }
    }

    // 3. Fun√ß√µes dos Simuladores Fixos (Modelo A, B e Tags)
    function simularModeloA() {
      const n = parseFloat(document.getElementById('n').value);
      const cn = parseFloat(document.getElementById('cn').value);
      let output = '';
      if (isNaN(n) || isNaN(cn)) {
        output = 'Por favor, insira valores num√©ricos para Nitrog√™nio e C/N.';
      } else if (n < 10 && cn > 20) {
        output = 'Aduba√ß√£o Verde com Leguminosas.';
      } else if (n >= 10 && n <= 20 && cn >= 10 && cn <= 20) {
        output = 'Cons√≥rcio com Aduba√ß√£o Verde + Cobertura Morta.';
      } else if (n > 20 && cn < 10) {
        output = 'Plantio Direto ou Cobertura sem Leguminosas.';
      } else {
        output = 'Sem recomenda√ß√£o espec√≠fica com base nesses par√¢metros.';
      }
      document.getElementById('saidaA').innerText = output;
    }

    function simularModeloB() {
      const dose = parseFloat(document.getElementById('dose').value);
      const cultura = document.getElementById('cultura').value;
      const fertilidade = document.getElementById('fertilidade').value; // N√£o usado no c√°lculo, mas pode ser adicionado
      let a = -2, b = 10, c = 40; // Valores padr√£o

      if (isNaN(dose)) {
        document.getElementById('saidaB').innerText = 'Por favor, insira um valor num√©rico para a dose.';
        return;
      }

      if (cultura === 'milho') { a = -2; b = 12; c = 50; }
      else if (cultura === 'feijao') { a = -1.5; b = 9; c = 45; }
      else if (cultura === 'tomate') { a = -2.2; b = 11; c = 42; }

      const produtividade = a * dose * dose + b * dose + c;
      const recomendacao = `Produtividade estimada: ${produtividade.toFixed(1)} kg/ha. Dose aplicada: ${dose} L/ha.`;
      document.getElementById('saidaB').innerText = recomendacao;
    }

    function toggleTag(tag) {
      tag.classList.toggle('selected');
    }

    function sugerirManejoTags() {
      const parametros = [...document.querySelectorAll('#parametros .tag.selected')].map(e => e.innerText);
      const condicoes = [...document.querySelectorAll('#condicoes .tag.selected')].map(e => e.innerText);
      let sugestao = 'Sem recomenda√ß√£o espec√≠fica com base nas tags selecionadas.';

      // L√≥gica de sugest√£o mais robusta
      if (parametros.includes('Nitrog√™nio Total') && condicoes.includes('Hist√≥rico de compacta√ß√£o')) {
        sugestao = 'Considerar Aduba√ß√£o Verde com Leguminosas para melhorar a estrutura do solo e o nitrog√™nio.';
      } else if (parametros.includes('C/N') && condicoes.includes('Alta umidade prevista')) {
        sugestao = 'Foco em Cons√≥rcio com Cobertura Morta para controle de umidade e aporte de mat√©ria org√¢nica.';
      } else if (parametros.includes('pH') && parametros.includes('Mat√©ria Org√¢nica')) {
          sugestao = 'Analisar corre√ß√£o de pH e manejo de mat√©ria org√¢nica para otimiza√ß√£o da absor√ß√£o de nutrientes.';
      } else if (condicoes.includes('Disponibilidade de sementes')) {
          sugestao = 'Explorar Plantio Direto com esp√©cies de cobertura adaptadas √† disponibilidade.';
      }

      document.getElementById('saidaTags').innerText = sugestao;
    }

    // 4. Fun√ß√µes para Simuladores Din√¢micos
    function renderizarSimuladoresDinamicos() {
      const container = document.getElementById('simuladores-dinamicos');
      container.innerHTML = ''; // Limpa o container antes de renderizar

      modelosCadastrados.forEach(modelo => {
        const div = document.createElement('div');
        div.className = 'form-section'; // Pode usar uma classe para estilizar os modelos din√¢micos individualmente
        div.innerHTML = `<h4>${modelo.nome}</h4>`; // Subt√≠tulo para cada modelo din√¢mico

        const inputsMap = {}; // Para armazenar refer√™ncias aos inputs

        modelo.parametros.forEach(param => {
          const label = document.createElement('label');
          label.innerText = param.label;
          div.appendChild(label);

          if (param.type === 'number') {
            const input = document.createElement('input');
            input.type = 'number';
            input.id = `${modelo.id}-${param.id}`;
            input.placeholder = param.placeholder || '';
            input.step = '0.1';
            div.appendChild(input);
            inputsMap[param.id] = input;
          } else if (param.type === 'select') {
            const select = document.createElement('select');
            select.id = `${modelo.id}-${param.id}`;
            param.options.forEach(optionText => {
              const option = document.createElement('option');
              option.value = optionText;
              option.innerText = optionText;
              select.appendChild(option);
            });
            div.appendChild(select);
            inputsMap[param.id] = select;
          }
        });

        const output = document.createElement('div');
        output.id = `saida-${modelo.id}`;
        output.className = 'recommendation-output';
        div.appendChild(output);

        const rodarBtn = document.createElement('button');
        rodarBtn.innerText = `Gerar Recomenda√ß√£o (${modelo.nome})`;
        rodarBtn.onclick = () => {
          const valores = {};
          modelo.parametros.forEach(param => {
            valores[param.id] = inputsMap[param.id].value;
          });
          const resultado = modelo.simular(valores);
          output.innerText = resultado;
        };
        div.appendChild(rodarBtn);

        const salvarBtn = document.createElement('button');
        salvarBtn.innerText = 'Salvar Recomenda√ß√£o Oficial';
        salvarBtn.onclick = () => {
          const propriedade = document.getElementById('propriedade-select-gerenciamento').value; // Usando a select do gerenciamento
          const texto = output.innerText;
          // Impede salvar mensagens de erro como recomenda√ß√£o
          if (texto && propriedade && !texto.includes('Por favor, preencha')) {
            const newId = `rec_${Date.now()}`;
            recomendacoesPorPropriedade[propriedade].push({ id: newId, texto: texto });
            alert('Recomenda√ß√£o salva com sucesso!');
            // N√£o atualiza as listas aqui, pois o usu√°rio est√° na se√ß√£o de simuladores.
            // As listas ser√£o atualizadas automaticamente quando o usu√°rio mudar para a se√ß√£o de gerenciamento/visualiza√ß√£o.
          } else {
            alert('Gere uma recomenda√ß√£o v√°lida e selecione uma propriedade para salvar.');
          }
        };
        div.appendChild(salvarBtn);

        container.appendChild(div);
      });
    }

    // 5. Fun√ß√µes de Gerenciamento de Recomenda√ß√µes
    function atualizarLista() {
      // Usa a select espec√≠fica da se√ß√£o de gerenciamento
      const propriedadeId = document.getElementById('propriedade-select-gerenciamento').value;
      const listaDiv = document.getElementById('lista-recomendacoes');
      listaDiv.innerHTML = ''; // Limpa a lista existente

      const recomendacoesDaPropriedade = recomendacoesPorPropriedade[propriedadeId] || [];

      if (recomendacoesDaPropriedade.length === 0) {
          listaDiv.innerText = 'Nenhuma recomenda√ß√£o salva para esta propriedade ainda.';
          return;
      }

      recomendacoesDaPropriedade.forEach(rec => {
        const item = document.createElement('div');
        item.className = 'recommendation-item';

        const textarea = document.createElement('textarea');
        textarea.value = rec.texto;
        textarea.rows = 3;
        item.appendChild(textarea);

        const btnGroup = document.createElement('div');
        btnGroup.className = 'btn-group';

        const salvarBtn = document.createElement('button');
        salvarBtn.innerText = 'Salvar Edi√ß√£o';
        salvarBtn.onclick = () => {
          rec.texto = textarea.value; // Atualiza o texto no array
          atualizarVisualizacao(); // Atualiza a visualiza√ß√£o (se a se√ß√£o estiver vis√≠vel)
          alert('Recomenda√ß√£o atualizada!');
        };
        btnGroup.appendChild(salvarBtn);

        const excluirBtn = document.createElement('button');
        excluirBtn.innerText = 'Excluir';
        excluirBtn.className = 'delete-btn';
        excluirBtn.onclick = () => {
          const confirmDelete = confirm('Tem certeza que deseja excluir esta recomenda√ß√£o?');
          if (confirmDelete) {
            const index = recomendacoesPorPropriedade[propriedadeId].findIndex(r => r.id === rec.id);
            if (index > -1) {
              recomendacoesPorPropriedade[propriedadeId].splice(index, 1);
              atualizarLista(); // Re-renderiza a lista de gerenciamento
              atualizarVisualizacao(); // Atualiza a visualiza√ß√£o
            }
          }
        };
        btnGroup.appendChild(excluirBtn);

        item.appendChild(btnGroup);
        listaDiv.appendChild(item);
      });
    }

    function adicionarNovaRecomendacao() {
        const propriedadeId = document.getElementById('propriedade-select-gerenciamento').value;
        const newId = `rec_${Date.now()}_manual`; // ID √∫nico para recomenda√ß√£o manual
        recomendacoesPorPropriedade[propriedadeId].push({ id: newId, texto: 'Nova recomenda√ß√£o (edite aqui)...' });
        atualizarLista(); // Re-renderiza a lista para incluir a nova recomenda√ß√£o
    }

    // 6. Fun√ß√µes de Visualiza√ß√£o de Recomenda√ß√µes (T√©cnico/Produtor)
    function atualizarVisualizacao() {
      const propriedadeId = document.getElementById('propriedade-view').value;
      const visualizacaoUl = document.getElementById('visualizacao-recomendacoes');
      visualizacaoUl.innerHTML = ''; // Limpa a lista existente

      const recomendacoesParaVisualizar = recomendacoesPorPropriedade[propriedadeId] || [];

      if (recomendacoesParaVisualizar.length === 0) {
          const li = document.createElement('li');
          li.innerText = 'Nenhuma recomenda√ß√£o dispon√≠vel para esta propriedade.';
          visualizacaoUl.appendChild(li);
          return;
      }

      recomendacoesParaVisualizar.forEach(rec => {
        const li = document.createElement('li');
        li.innerText = rec.texto;
        visualizacaoUl.appendChild(li);
      });
    }

    // 7. Inicializa√ß√£o da P√°gina
    document.addEventListener('DOMContentLoaded', () => {
      // Renderiza os simuladores din√¢micos ao carregar a p√°gina
      renderizarSimuladoresDinamicos();

      // Configura os event listeners para as selects de propriedade
      document.getElementById('propriedade-select-gerenciamento').addEventListener('change', atualizarLista);
      document.getElementById('propriedade-view').addEventListener('change', atualizarVisualizacao);

      // Garante que a se√ß√£o "Simuladores de Modelos" esteja ativa ao carregar
      showSection('simuladores', document.getElementById('btn-simuladores'));
    });
</script>
</body>
</html>